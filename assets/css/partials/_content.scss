///
/// Content styles
///

body {
	&:not( .template-no-sidebar ) {
		.content-wrapper {
			display: flex;
			gap: 2rem;

			@media screen and ( max-width: $break_tablet ) {
				flex-direction: column;
			}
		}
	}

	&.template-sidebar-bottom {
		.content-wrapper {
			flex-direction: column;
		}
	}
}

.content-wrapper {
	width: 100%;
	padding: var( --cfe-content-wrap--padding );
}

.page-main {
	width: 100%;
	padding: var( --cfe-page-main--padding );
}

.home .blog-view {
	padding: 2rem 2rem 0 2rem;
}

.blog-wrap {
	display: flex;
	gap: 2rem;

	&:not( :first-of-type ) {
		margin-top: 2rem;
	}

	.page-cover-blog {
		width: 180px;
		min-width: 180px;
	}

	h2 {
		margin: 0;
	}
}

body:not( .home ) {
	.blog-wrap {
		margin-top: 1rem;
	}
}

.page-header {
	h1,
	h2 {
		font-size: var( --cfe-page-header--heading--font-size, var( --cfe-heading-primary--font-size, 2rem ) );

		a {
			font-weight: var( --cfe-page-header--heading--link--font-weight, inherit );
		}
	}
}

.page-summary {
	.page-header {
		h1,
		h2 {
			font-size: var( --cfe-page-summary--page-header--heading--font-size );
			font-weight: var( --cfe-page-summary--page-header--heading--font-weight );
			line-height: var( --cfe-page-summary--page-header--heading--line-height );
		}
	}
}

.page-subtitle {
	font-family: var( --cfe-page-subtitle--font-family );
	font-size: var( --cfe-page-subtitle--font-size, 1.5em );
}

.page-info {
	font-family: var( --cfe-page-info--font-family );
	font-size: var( --cfe-page-info--font-size, 0.85em );
	line-height: var( --cfe-page-info--line-height );

	.page-info-entry {
		&:not( :last-of-type ) {
			margin: var( --cfe-page-info-entry--margin, 0 0.5em 0 0 );
		}
	}
}

.page-description {
	margin: var( --cfe-page-description--margin, 0 );

	&.page-description-single {
		margin: var( --cfe-page-description-single--margin, 0 );
		font-size: var( --cfe-page-description-single--font-size, 1.25rem );
	}
}

.loop {
	main {
		article {
			&:not( :first-of-type ) {
				margin: var( --cfe-news-article--full--margin, 2rem 0 0 0 );
				border-top: var( --cfe-news-article--full--border-top, solid 1px var( --cfe-box-border-color ) );
			}
		}
	}
}

// Full loop content in the config file.
.post-full-content {

	// News style loop in the config file.
	&.post-news-content {
		display: grid;
		grid-gap: 1.5rem;
		grid-template-areas:
		"header  header header"
		"info    cover cover"
		"....... content content";

		@media screen and ( max-width: $break_phone ) {
			display: block;
		}

		.post-header {
			grid-area: header;
		}

		.post-cover {
			grid-area: cover;
			margin: var( --cfe-post-cover--news--full--margin, 0 );

			@media screen and ( max-width: $break_phone ) {
				margin: var( --cfe-post-cover--news--full--phone--margin, 1.5rem 0 0 0 );
			}
		}

		.post-content {
			grid-area: content;
			margin: var( --cfe-post-cover--news--full--margin, 0 );
		}

		.post-info {
			grid-area: info;
			width: var( --cfe-post-info--news--full--width, 20% );
			min-width: var( --cfe-post-info--news--full--min-width, 180px );

			p {
				margin: var( --cfe-post-info--news--full--p--margin, var( --cfe-element--margin ) );

				& + p {
					margin: var( --cfe-post-info--news--full--p-p--margin, 0 );
				}
			}

			.post-info-author {
				margin: var( --cfe-post-info-details--news--full--margin );
			}

			.post-info-category {
				margin: var( --cfe-post-info-category--news--full--margin, 0 );
				font-size: var( --cfe-post-info-category--news--full--font-size, 1.5rem );
				font-weight: var( --cfe-post-info-category--news--full--font-weight, 700 );
				font-style: var( --cfe-post-info-category--news--full--font-style, normal );
				line-height: var( --cfe-post-info-category--news--full--line-height, 1 );

				a {
					text-decoration: var( --cfe-post-info-category--news--full--link--text-decoration, none );
					font-size: inherit;
					font-weight: inherit;
					line-height: inherit;
				}
			}

			.post-info-date {
				margin: var( --cfe-post-info-date--news--full--margin, 0 );
				font-size: var( --cfe-post-info-date--news--full--font-size );
				font-weight: var( --cfe-post-info-date--news--full--font-weight );
				line-height: var( --cfe-post-info-date--news--full--line-height );
			}

			.post-info-word-count {
				display: block;
			}

			.post-info-read-time {
				display: block;
			}
		}
	}

	&.post-blog-content {
		.post-cover {
			margin: var( --cfe-post-cover--blog--full--margin, 1.5rem 0 0 0 );
		}
	}
}

.page-content {

	margin: var( --cfe-page-content--margin, 4rem 0 0 0 );

	img[style="float: left;"],
	img[style="float: left"],
	img[style="float:left;"],
	img[style="float:left"] {
		margin: var( --cfe-page-content--img--float-left--margin, 0 1em 1em 0 );
	}

	img[style="float: right;"],
	img[style="float: right"],
	img[style="float:right;"],
	img[style="float:right"] {
		margin: var( --cfe-page-content--img--float-right--margin, 0 0 1em 1em );
	}
}

.page-cover {
	position: relative;

	&.page-cover-singular {

		figcaption {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			color: var( --cfe-cover--title--link--text-color, $white );

			.cover-header {
				z-index: 100;
				text-align: center;
			}

			.cover-title {
				margin: 0;
				line-height: 1.2;
				font-size: var( --cfe-cover--page-title--font-size, clamp( 2.375rem, 3vw + 1rem, 5vw ) );
				font-weight: var( --cfe-cover--page-title--font-weight, var( --cfe-heading-primary--font-weight, 700 ) );
				color: var( --cfe-cover--titles--text-color, $white );

				a {
					color: var( --cfe-cover--title--link--text-color, $white );

					&:hover,
					&:focus {
						color: var( --cfe-site-cover--title--link--action--text-color, $white );
					}
				}
			}

			.cover-description {
				&.page-description-single {
					margin:  var( --cfe-cover--page-description-single--margin, 1rem 0 0 0 );
					font-size: var( --cfe-cover--page-description-single--font-size );
					font-weight: var( --cfe-cover--page-description-single--font-weight );
				}
			}
		}
	}

	&:not( .page-cover-blog ) {
		overflow: hidden;
		margin: var( --cfe-page-cover-single--margin, 0 auto 0 auto );
		max-width: 2048px;

		&.post-cover {
			margin: var( --cfe-post-cover--margin, 2rem 0 0 0 );
		}

		img {
			display: block;
			width: 100%;
			max-height: 320px;
			object-fit: cover;
			object-position: center center;
		}
	}
}

// No posts template.
.no-posts-found {
	display: var( --cfe-no-posts--display, flex );
	flex-direction: var( --cfe-no-posts--flex-direction, column );
	align-items: var( --cfe-no-posts--align-items, center );
	justify-content: var( --cfe-no-posts--justify-content, center );
	min-height: var( --cfe-no-posts--min-height, 50vh );

	h1 {
		font-size: var( --cfe-no-posts--heading--font-size, 2.5em );
	}
}

.site-article {

	.page-info-author {
		font-weight: var( --cfe-page-info-author--font-weight, 600 );
	}

	.page-info-date {
		font-weight: var( --cfe-page-info-date--font-weight, 600 );
	}

	.tags-list {
		list-style: var( --cfe-article--tags-list--margin, none );
		margin: var( --cfe-article--tags-list--margin, 0.75em 0 0 0 );
		gap: var( --cfe-article--tags-list--display, 0 0.1875em );

		a {
			display: var( --cfe-article--tags-list--display, inline-block );
			padding: var( --cfe-article--tags-list--padding, 0.175em 0.325em 0.325em 0.325em );
			line-height: var( --cfe-article--tags-list--line-height, 1 );
			font-size: var( --cfe-article--tags-list--font-size );
			font-weight: var( --cfe-article--tags-list--font-weight );
			text-decoration: var( --cfe-article--tags-list--text-decoration );
			background-color: var( --cfe-article--tags-list--bg-color );
			color: var( --cfe-article--tags-list--text-color );

			&:hover,
			&:focus {
				background-color: var( --cfe-article--tags-list--action--bg-color );
				color: var( --cfe-article--tags-list--action--text-color );
			}
		}
	}
}

// Blog transition demo.
.blog {
	article {
		opacity: 0;
		transition: opacity .25s;
		transition-delay: .25s;
	}

	&.page-loaded {
		article {
			opacity: 1;
		}
	}
}
@for $blog_article from 1 through 12 {
	.blog {
		&.page-loaded {
			article {
				&:nth-of-type( #{$blog_article} ) {
					transition-delay: ( $blog_article + 0 ) * .15s;
				}
			}
		}
	}
}

// Theme icons.
.theme-icon {
	display: inline-block;
	vertical-align: baseline;
	line-height: 1;

	svg {
		fill: currentColor;
		height: 1em;
	}
}

// Sticky post icon.
.sticky-icon {
	&.sticky-icon-heading {

		svg {
			height: 0.725em;
			transform: translateY( 0.05em );
		}
	}
}
